var images = [
  './assets/img/layers/l8_black_onyx.webp',
  './assets/img/layers/l8_seraphinit.webp',
  './assets/img/layers/l8_malahyt.webp',
  './assets/img/layers/l8_lazurit_blue.webp',
  './assets/img/layers/l8_lazurit_skyblue.webp',
  './assets/img/layers/l8_charaid.webp',
  './assets/img/layers/l8_crimson_agat.webp',
  './assets/img/layers/l8_blue_agat.webp',
  './assets/img/layers/l8_orange_agat.webp',
  './assets/img/layers/l8_pink_onyx.webp',
  './assets/img/layers/l8_white_onyx.webp',
  './assets/img/layers/l7_god_mother.webp',
  './assets/img/layers/l7_revival.webp',
  './assets/img/layers/l7_trinity.webp',
  './assets/img/layers/l6_gold.webp',
  './assets/img/layers/l6_silver.webp',
  './assets/img/layers/l5_gold.webp',
  './assets/img/layers/l5_silver.webp',
  './assets/img/layers/l4_emerald.webp',
  './assets/img/layers/l4_citrin.webp',
  './assets/img/layers/l4_granat.webp',
  './assets/img/layers/l4_topaz.webp',
  './assets/img/layers/l4_rubin.webp',
  './assets/img/layers/l4_amethyst.webp',
  './assets/img/layers/l4_saphir.webp',
  './assets/img/layers/l4_brilliant.webp',
  './assets/img/layers/l4_cos_gold.webp',
  './assets/img/layers/l4_cos_silver.webp',
  './assets/img/layers/l3_emerald.webp',
  './assets/img/layers/l3_citrin.webp',
  './assets/img/layers/l3_granat.webp',
  './assets/img/layers/l3_topaz.webp',
  './assets/img/layers/l3_rubin.webp',
  './assets/img/layers/l3_amethyst.webp',
  './assets/img/layers/l3_saphir.webp',
  './assets/img/layers/l3_brilliant.webp',
  './assets/img/layers/l2_emerald.webp',
  './assets/img/layers/l2_citrin.webp',
  './assets/img/layers/l2_granat.webp',
  './assets/img/layers/l2_topaz.webp',
  './assets/img/layers/l2_rubin.webp',
  './assets/img/layers/l2_amethyst.webp',
  './assets/img/layers/l2_saphir.webp',
  './assets/img/layers/l2_brilliant.webp',
  './assets/img/layers/l1_emerald.webp',
  './assets/img/layers/l1_citrin.webp',
  './assets/img/layers/l1_granat.webp',
  './assets/img/layers/l1_topaz.webp',
  './assets/img/layers/l1_rubin.webp',
  './assets/img/layers/l1_amethyst.webp',
  './assets/img/layers/l1_saphir.webp',
  './assets/img/layers/l1_brilliant.webp',
  './assets/img/layers/l0_emerald.webp',
  './assets/img/layers/l0_citrin.webp',
  './assets/img/layers/l0_granat.webp',
  './assets/img/layers/l0_topaz.webp',
  './assets/img/layers/l0_rubin.webp',
  './assets/img/layers/l0_amethyst.webp',
  './assets/img/layers/l0_saphir.webp',
  './assets/img/layers/l0_brilliant.webp',
  './assets/img/icons/black_onyx.jpg',
  './assets/img/icons/seraphinit.jpg',
  './assets/img/icons/malahyt.jpg',
  './assets/img/icons/lazurit_blue.jpg',
  './assets/img/icons/lazurit_skyblue.jpg',
  './assets/img/icons/charaid.jpg',
  './assets/img/icons/crimson_agat.jpg',
  './assets/img/icons/blue_agat.jpg',
  './assets/img/icons/orange_agat.jpg',
  './assets/img/icons/pink_onyx.jpg',
  './assets/img/icons/white_onyx.jpg',
  './assets/img/icons/god_mother.png',
  './assets/img/icons/revival.png',
  './assets/img/icons/trinity.png',
  './assets/img/icons/gold.png',
  './assets/img/icons/silver.png',
  './assets/img/icons/gold.png',
  './assets/img/icons/silver.png',
  './assets/img/icons/emerald.png',
  './assets/img/icons/citrin.png',
  './assets/img/icons/granat.png',
  './assets/img/icons/topaz.png',
  './assets/img/icons/rubin.png',
  './assets/img/icons/amethyst.png',
  './assets/img/icons/saphir.png',
  './assets/img/icons/brilliant.png',
  './assets/img/icons/gold.png',
  './assets/img/icons/silver.png',
  './assets/img/icons/emerald.png',
  './assets/img/icons/citrin.png',
  './assets/img/icons/granat.png',
  './assets/img/icons/topaz.png',
  './assets/img/icons/rubin.png',
  './assets/img/icons/amethyst.png',
  './assets/img/icons/saphir.png',
  './assets/img/icons/brilliant.png',
  './assets/img/icons/emerald.png',
  './assets/img/icons/citrin.png',
  './assets/img/icons/granat.png',
  './assets/img/icons/topaz.png',
  './assets/img/icons/rubin.png',
  './assets/img/icons/amethyst.png',
  './assets/img/icons/saphir.png',
  './assets/img/icons/brilliant.png',
  './assets/img/icons/emerald.png',
  './assets/img/icons/citrin.png',
  './assets/img/icons/granat.png',
  './assets/img/icons/topaz.png',
  './assets/img/icons/rubin.png',
  './assets/img/icons/amethyst.png',
  './assets/img/icons/saphir.png',
  './assets/img/icons/brilliant.png',
  './assets/img/icons/emerald.png',
  './assets/img/icons/citrin.png',
  './assets/img/icons/granat.png',
  './assets/img/icons/topaz.png',
  './assets/img/icons/rubin.png',
  './assets/img/icons/amethyst.png',
  './assets/img/icons/saphir.png',
  './assets/img/icons/brilliant.png'
];

var position = [
  'translateX(905px)', "translateX(-100px)",
  "translateX(905px)" , "translateX(550px)",
  "translateX(905px)","translateX(740px)",
  "translateX(905px)", "translateX(740px)",
  "translateX(905px)","translateX(170px)",
  "translateX(905px)","translateX(320px)" ,
  "translateX(905px)","translateX(320px)",
  "translateX(905px)","translateX(320px)",
  "translateX(905px)","translateX(320px)"];

var position_min = [
  'translateX(1000px)', "translateX(280px)",
  "translateX(1000px)" , "translateX(750px)",
  "translateX(1000px)","translateX(870px)",
  "translateX(1000px)", "translateX(740px)",
  "translateX(1000px)","translateX(170px)",
  "translateX(1000px)","translateX(320px)" ,
  "translateX(1000px)","translateX(320px)",
  "translateX(1000px)","translateX(320px)",
  "translateX(1000px)","translateX(320px)"];
  
var preloadedImages = [];

for (var i = 0; i < images.length; i++) {
  preloadedImages[i] = new Image();
  preloadedImages[i].src = images[i]; 
  console.log(images[i]);
};

var menuStates = {
  list_material_8: false,
  list_material_7: false,
  list_material_6: false,
  list_material_5: false,
  list_material_4: false,
  list_material_3: false,
  list_material_2: false,
  list_material_1: false,
  list_material_0: false
};

var temp1 = 1;
var temp2 = 2;
var temptime = 3;

function MenuBtn(roll, number, bool, time) {
  var rollElement = document.getElementById(roll);
  console.log(self.innerWidth);
  console.log(top.innerWidth);
  if (window.innerWidth < 1025) {
    console.log("minimum script");
    for (var menu in menuStates) {
      if (menu !== roll && menuStates[menu] === true) {
        closeMenu(menu,temp2,temp1,temptime);
      }
    }
    if (menuStates[roll] === bool) {
      rollElement.animate([
        { transform: position_min[number] },
        { transform: position_min[number + 1] }
      ], {
        duration: time,
        fill: "forwards",
        easing: "ease-in-out"
      });
      menuStates[roll] = true;
      temp1 = position_min[number+1];
      temp2 = position_min[number];
      temptime = time;
    } else {
      closeMenu(roll,temp2,temp1,temptime);
    }
  } else {
    console.log("max script");
    for (var menu in menuStates) {
      if (menu !== roll && menuStates[menu] === true) {
        closeMenu(menu,temp2,temp1,temptime);
      }
    }
    if (menuStates[roll] === bool) {
      rollElement.animate([
        { transform: position[number] },
        { transform: position[number + 1] }
      ], {
        duration: time,
        fill: "forwards",
        easing: "ease-in-out"
      });
      menuStates[roll] = true;
      temp1 = position[number+1];
      temp2 = position[number];
      temptime = time;
    } else {
      closeMenu(roll,temp2,temp1,temptime);
    }
  }
}

function closeMenu(roll,temp2,temp1, time) {
  var rollElement = document.getElementById(roll);
  rollElement.animate([
    { transform: temp1 },
    { transform: temp2 }
  ], {
    duration: time,
    fill: "forwards",
    easing: "ease-in-out"
  });
  menuStates[roll] = false;
}

function Reset() {
  var layer_8_default = document.getElementById('layer_8');
  var layer_7_default = document.getElementById('layer_7');
  var layer_6_default = document.getElementById('layer_6');
  var layer_5_default = document.getElementById('layer_5');
  var layer_4_default = document.getElementById('layer_4');
  var layer_3_default = document.getElementById('layer_3');
  var layer_2_default = document.getElementById('layer_2');
  var layer_1_default = document.getElementById('layer_1');
  var layer_0_default = document.getElementById('layer_0');
  layer_8_default.src = preloadedImages[10].src;
  layer_7_default.src = preloadedImages[11].src;
  layer_6_default.src = preloadedImages[15].src;
  layer_5_default.src = preloadedImages[17].src;
  layer_4_default.src = preloadedImages[25].src;
  layer_3_default.src = preloadedImages[35].src;
  layer_2_default.src = preloadedImages[43].src;
  layer_1_default.src = preloadedImages[51].src;
  layer_0_default.src = preloadedImages[59].src;

  var icon_8_min = document.getElementById('layer_8_min');
  var icon_7_min = document.getElementById('layer_7_min');
  var icon_6_min = document.getElementById('layer_6_min');
  var icon_5_min = document.getElementById('layer_5_min');
  var icon_4_min = document.getElementById('layer_4_min');
  var icon_3_min = document.getElementById('layer_3_min');
  var icon_2_min = document.getElementById('layer_2_min');
  var icon_1_min = document.getElementById('layer_1_min');
  var icon_0_min = document.getElementById('layer_0_min');
  icon_8_min.src = preloadedImages[70].src;
  icon_7_min.src = preloadedImages[71].src;
  icon_6_min.src = preloadedImages[75].src;
  icon_5_min.src = preloadedImages[77].src;
  icon_4_min.src = preloadedImages[85].src;
  icon_3_min.src = preloadedImages[95].src;
  icon_2_min.src = preloadedImages[103].src;
  icon_1_min.src = preloadedImages[111].src;
  icon_0_min.src = preloadedImages[119].src;

  var name_8 = document.getElementById('current_name_8');
  var name_7 = document.getElementById('current_name_7');
  var name_6 = document.getElementById('current_name_6');
  var name_5 = document.getElementById('current_name_5');
  var name_4 = document.getElementById('current_name_4');
  var name_3 = document.getElementById('current_name_3');
  var name_2 = document.getElementById('current_name_2');
  var name_1 = document.getElementById('current_name_1');
  var name_0 = document.getElementById('current_name_0');
  name_8.textContent = 'Белый Оникс';
  name_7.textContent = 'Божья Матерь';
  name_6.textContent = 'Серебро';
  name_5.textContent = 'Серебро';
  name_4.textContent = 'Бриллиант';
  name_3.textContent = 'Бриллиант';
  name_2.textContent = 'Бриллиант';
  name_1.textContent = 'Бриллиант';
  name_0.textContent = 'Бриллиант';
};

function ChangeImgSrc(id, id_min, number, src_min, source, target) {
  var img_min = document.getElementById(id_min);
  var img = document.getElementById(id);
  var p_source = document.getElementById(source);
  var p_target = document.getElementById(target);
  if (img != null) {
    img.src = preloadedImages[number].src,
    img_min.src = preloadedImages[number + 60].src,
    p_target.textContent = p_source.textContent;
  };
}

function Screenshoot() {
  const container = document.getElementById('wiewport');
  container.style.height = "950px";
  html2canvas(container,{
    scale: 3})
  .then(canvas => {
      const link = document.createElement('a');
      link.download = 'new_item.png';
      link.href = canvas.toDataURL();
      // добавляем ссылку на страницу и эмулируем клик на элементе для скачивания
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
  });
  container.style.height = "0px";
};

function getRandomInRange(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function RandomPath() {
  var img8 = document.getElementById('layer_8');
  var img7 = document.getElementById('layer_7');
  var img6 = document.getElementById('layer_6');
  var img5 = document.getElementById('layer_5');
  var img4 = document.getElementById('layer_4');
  var img3 = document.getElementById('layer_3');
  var img2 = document.getElementById('layer_2');
  var img1 = document.getElementById('layer_1');
  var img0 = document.getElementById('layer_0');

  var icon8 = document.getElementById('layer_8_min');
  var icon7 = document.getElementById('layer_7_min');
  var icon6 = document.getElementById('layer_6_min');
  var icon5 = document.getElementById('layer_5_min');
  var icon4 = document.getElementById('layer_4_min');
  var icon3 = document.getElementById('layer_3_min');
  var icon2 = document.getElementById('layer_2_min');
  var icon1 = document.getElementById('layer_1_min');
  var icon0 = document.getElementById('layer_0_min');

  current_name_8 = document.getElementById('current_name_8');
  current_name_7 = document.getElementById('current_name_7');
  current_name_6 = document.getElementById('current_name_6');
  current_name_5 = document.getElementById('current_name_5');
  current_name_4 = document.getElementById('current_name_4');
  current_name_3 = document.getElementById('current_name_3');
  current_name_2 = document.getElementById('current_name_2');
  current_name_1 = document.getElementById('current_name_1');
  current_name_0 = document.getElementById('current_name_0');

  var randomnames = [
    'Черный Оникс',
    'Серафинит',
    'Малахит',
    'Лазурит Синий',
    'Лазурит Голубой',
    'Чараид',
    'Малиновый Агат',
    'Синий Агат',
    'Оранжевый Агат',
    'Розовый Агат',
    'Белый Оникс',
    'Божья Матерь',
    'Воскресение',
    'Троица',
    'Золото',
    'Серебро',
    'Золото',
    'Серебро',
    'Изумруд',
    'Цитрин',
    'Гранат',
    'Топаз',
    'Рубин',
    'Аметист',
    'Сапфир',
    'Бриллиант',
    'Золотая Косичка',
    'Серебряная косичка',
    'Изумруд',
    'Цитрин',
    'Гранат',
    'Топаз',
    'Рубин',
    'Аметист',
    'Сапфир',
    'Бриллиант',
    'Изумруд',
    'Цитрин',
    'Гранат',
    'Топаз',
    'Рубин',
    'Аметист',
    'Сапфир',
    'Бриллиант',
    'Изумруд',
    'Цитрин',
    'Гранат',
    'Топаз',
    'Рубин',
    'Аметист',
    'Сапфир',
    'Бриллиант',
    'Изумруд',
    'Цитрин',
    'Гранат',
    'Топаз',
    'Рубин',
    'Аметист',
    'Сапфир',
    'Бриллиант'
  ];

  /* Random Length */
  var randomPositionForLayer8 = getRandomInRange(0, 10);
  var randomPositionForLayer7 = getRandomInRange(11, 13);
  var randomPositionForLayer6 = getRandomInRange(14, 15);
  var randomPositionForLayer5 = getRandomInRange(16, 17);
  var randomPositionForLayer4 = getRandomInRange(18, 27);
  var randomPositionForLayer3 = getRandomInRange(28, 35);
  var randomPositionForLayer2 = getRandomInRange(36, 43);
  var randomPositionForLayer1 = getRandomInRange(44, 51);
  var randomPositionForLayer0 = getRandomInRange(52, 59);

  /*Layer 8*/
  img8.src = preloadedImages[randomPositionForLayer8].src;
  icon8.src = preloadedImages[randomPositionForLayer8 + 60].src;
  current_name_8.textContent = randomnames[randomPositionForLayer8];
  /*Layer 7*/
  img7.src = preloadedImages[randomPositionForLayer7].src;
  icon7.src = preloadedImages[randomPositionForLayer7 + 60].src;
  current_name_7.textContent = randomnames[randomPositionForLayer7];
  /*Layer 6*/
  img6.src = preloadedImages[randomPositionForLayer6].src;
  icon6.src = preloadedImages[randomPositionForLayer6 + 60].src;
  current_name_6.textContent = randomnames[randomPositionForLayer6];
  /*Layer 5*/
  img5.src = preloadedImages[randomPositionForLayer5].src;
  icon5.src = preloadedImages[randomPositionForLayer5 + 60].src;
  current_name_5.textContent = randomnames[randomPositionForLayer5];
  /*Layer 4*/
  img4.src = preloadedImages[randomPositionForLayer4].src;
  icon4.src = preloadedImages[randomPositionForLayer4 + 60].src;
  current_name_4.textContent = randomnames[randomPositionForLayer4];
  /*Layer 3*/
  img3.src = preloadedImages[randomPositionForLayer3].src;
  icon3.src = preloadedImages[randomPositionForLayer3 + 60].src;
  current_name_3.textContent = randomnames[randomPositionForLayer3];
  /*Layer 2*/
  img2.src = preloadedImages[randomPositionForLayer2].src;
  icon2.src = preloadedImages[randomPositionForLayer2 + 60].src;
  current_name_2.textContent = randomnames[randomPositionForLayer2];
  /*Layer 1*/
  img1.src = preloadedImages[randomPositionForLayer1].src;
  icon1.src = preloadedImages[randomPositionForLayer1 + 60].src;
  current_name_1.textContent = randomnames[randomPositionForLayer1];
  /*Layer 0*/
  img0.src = preloadedImages[randomPositionForLayer0].src;
  icon0.src = preloadedImages[randomPositionForLayer0 + 60].src;
  current_name_0.textContent = randomnames[randomPositionForLayer0];
};